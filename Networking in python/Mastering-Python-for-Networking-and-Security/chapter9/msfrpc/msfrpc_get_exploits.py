import msfrpc

username='msf'
password='password'

# Create a new instance of the Msfrpc client with the default options
client = msfrpc.Msfrpc({'port':55553})

# Login in metasploit server
client.login(username,password)

# Get a list of the exploits from the server
exploits = client.call('module.exploits')

# Get the list of compatible payloads for the first option
payloads = client.call('module.compatible_payloads',[exploits['modules'][0]])
for i in (payloads.get('payloads')):
    print("\t%s" % i)